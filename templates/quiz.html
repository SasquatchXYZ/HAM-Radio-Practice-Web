{% extends "index.html" %}

{% block content %}
    <form method="post">
        <div class="question-title">Question {{ question_number }} of 35</div>
        <div class="question-text">
            {{ question.question }}
        </div>
        <div class="options">
            <label><input type="radio" name="answer" value="0">{{ question.a }}</label>
            <label><input type="radio" name="answer" value="1">{{ question.b }}</label>
            <label><input type="radio" name="answer" value="2">{{ question.c }}</label>
            <label><input type="radio" name="answer" value="3">{{ question.d }}</label>
        </div>
        <div class="actions">
            <input type="submit" value="Submit Answer" class="submit-answer">
        </div>
    </form>
    <div class="actions">
        {% if request.path != '/results' %}
            <button onclick="Refresh()" class="end-test">Stop this test</button>
            <script>
                function Refresh() {
                    window.location.href = "/results";
                }
            </script>
        {% else %}
            <button onclick="deleteCookieAndRefresh()">Close This Test</button>
            <script>
                function deleteCookieAndRefresh() {
                    // Client-side JavaScript to delete the cookie and refresh
                    document.cookie = "session_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
                    window.location.href = "/?=new";
                }
            </script>
        {% endif %}
    </div>
{% endblock %}